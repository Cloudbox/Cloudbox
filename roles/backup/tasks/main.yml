--- 
- mount: 
    fstype: btrfs
    path: /
    src: "{{ item.device }}"
    state: present
  name: "Check for btrfs"
  register: btrs_filesystem
  when: "(item.mount == '/') and (item.fstype == 'btrfs')"
  with_items: 
    - "{{ ansible_mounts }}"
- include_tasks: normal_backup.ymll
  name: "Normal Backup"
  when: "not btrs_filesystem"

- include_tasks: btrfs_backup.yml
  name: "Normal Backup"
  when: btrs_filesystem